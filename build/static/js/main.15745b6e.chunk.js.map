{"version":3,"sources":["components/nav.jsx","components/video-player.jsx","components/item.jsx","sections/display.jsx","sections/upload.jsx","App.js","index.js"],"names":["NavBar","Navbar","bg","expand","Brand","href","Toggle","aria-controls","Collapse","id","Nav","className","Link","to","style","textDecoration","VideoPlayer","name","useParams","controls","url","width","height","VideoCard","title","strSplit","encodeURI","split","videoName","length","DisplayVideo","useState","videos","setVideos","getVideosService","a","axios","get","process","response","data","useEffect","cards","map","description","UploadSection","fileTitle","setFileTitle","fileDescription","setFileDescription","isLoading","setIsLoading","file","setFile","progress","setProgress","history","useHistory","uploadService","fromData","FormData","append","post","onUploadProgress","Math","round","loaded","total","Form","margin","onSubmit","e","preventDefault","then","undefined","finally","push","Group","controlId","Label","Control","type","placeholder","maxLength","value","onChange","target","required","Text","File","label","accept","custom","files","ProgressBar","now","marginTop","marginBottom","Button","variant","disabled","App","Container","fluid","path","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.15745b6e.chunk.js","sourcesContent":["import React from 'react';\nimport {\n  Nav,\n  Navbar,\n} from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\n\nconst NavBar = () => (\n  <Navbar bg=\"light\" expand=\"lg\">\n    <Navbar.Brand href=\"\">Video Demo</Navbar.Brand>\n    <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n    <Navbar.Collapse id=\"basic-navbar-nav\">\n      <Nav className=\"mr-auto\">\n        <Nav.Link><Link to=\"/\" style={{ textDecoration: 'none' }}>Home</Link></Nav.Link>\n        <Nav.Link><Link to=\"/upload\" style={{ textDecoration: 'none' }}>Upload</Link></Nav.Link>\n      </Nav>\n    </Navbar.Collapse>\n  </Navbar>\n);\n\nexport default NavBar;\n","import React from 'react';\nimport ReactPlayer from 'react-player';\nimport { useParams } from 'react-router-dom';\n\nconst VideoPlayer = () => {\n  const { name } = useParams();\n\n  const baseUrl = 'https://storage.googleapis.com/upload-videos-test/';\n\n  return (\n    <div className=\"player-wrapper\">\n      <ReactPlayer\n        className=\"react-player\"\n        controls\n        url={`${baseUrl}${name}`}\n        width=\"100%\"\n        height=\"100%\"\n      />\n    </div>\n  );\n};\n\nexport default VideoPlayer;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from 'react-router-dom';\n\nconst VideoCard = ({\n  title = 'This is a video',\n  url,\n}) => {\n  const strSplit = encodeURI(url).split('/');\n  const videoName = strSplit[strSplit.length - 1];\n\n  return (\n    <Link to={`/video/${videoName}`}>\n      <li>{title}</li>\n    </Link>\n  );\n};\n\nVideoCard.propTypes = {\n  title: PropTypes.string.isRequired,\n  url: PropTypes.string.isRequired,\n};\n\nexport default VideoCard;\n","import axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport Item from '../components/item';\n\nconst DisplayVideo = () => {\n  const [videos, setVideos] = useState([]);\n\n  const getVideosService = async () => {\n    const response = await axios.get(`${process.env.REACT_APP_API_BASE_URL}videos?limit=1000`);\n\n    setVideos(response.data.videos || []);\n  };\n\n  useEffect(() => {\n    getVideosService();\n  }, []);\n\n  const cards = videos\n    .map(({ title, url, description }) => (\n      <Item\n        title={title}\n        url={url}\n        description={description}\n      />\n    ));\n\n  return (\n    <ul>\n      {cards}\n    </ul>\n  );\n};\n\nexport default DisplayVideo;\n","import axios from 'axios';\nimport React, { useState } from 'react';\nimport { Form, Button, ProgressBar } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\n\nconst UploadSection = () => {\n  const [fileTitle, setFileTitle] = useState('');\n  const [fileDescription, setFileDescription] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [file, setFile] = useState();\n  const [progress, setProgress] = useState();\n  const history = useHistory();\n\n  const uploadService = async () => {\n    const fromData = new FormData();\n\n    fromData.append('video', file);\n    fromData.append('title', fileTitle);\n    fromData.append('description', fileDescription);\n\n    return axios.post(\n      `${process.env.REACT_APP_API_BASE_URL}videos/single`,\n      fromData,\n      {\n        onUploadProgress: (data) => {\n          // Set the progress value to show the progress bar\n          setProgress(Math.round((100 * data.loaded) / data.total));\n        },\n      },\n    );\n  };\n\n  return (\n    <Form\n      style={{ margin: '2vh' }}\n      onSubmit={(e) => {\n        e.preventDefault();\n        setIsLoading(true);\n\n        uploadService()\n          .then(() => {\n            setFileTitle('');\n            setFileDescription('');\n            setFile(undefined);\n          })\n          .finally(() => {\n            setIsLoading(false);\n            history.push('/');\n          });\n      }}\n    >\n      <Form.Group controlId=\"form-group-title\">\n        <Form.Label>Video Title</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Video title\"\n          maxLength=\"100\"\n          value={fileTitle}\n          onChange={(e) => { setFileTitle(e.target.value); }}\n          required\n        />\n        <Form.Text className=\"text-muted\">\n          The title to be displayed for the uploaded video\n        </Form.Text>\n      </Form.Group>\n\n      <Form.Group controlId=\"form-group-description\">\n        <Form.Label>Description</Form.Label>\n        <Form.Control\n          type=\"text\"\n          placeholder=\"Description\"\n          maxLength=\"1024\"\n          value={fileDescription}\n          onChange={(e) => { setFileDescription(e.target.value); }}\n          required\n        />\n        <Form.Text className=\"text-muted\">\n          A brief video description\n        </Form.Text>\n      </Form.Group>\n      <Form.Group controlId=\"form-group-video\">\n        <Form.Label>Video</Form.Label>\n        <Form.File\n          id=\"video\"\n          label=\"Video\"\n          accept=\"video/mp4,video/x-m4v,video/*\"\n          custom\n          onChange={(e) => { setFile(e.target.files[0]); }}\n        />\n      </Form.Group>\n      {progress && <ProgressBar now={progress} label={`${progress}%`} style={{ marginTop: '2px', marginBottom: '2px' }} />}\n      <Button variant=\"primary\" disabled={isLoading} type=\"submit\">\n        {isLoading ? 'uploading ...' : 'Submit'}\n      </Button>\n    </Form>\n  );\n};\n\nexport default UploadSection;\n","import React from 'react';\nimport {\n  Container,\n} from 'react-bootstrap';\nimport { Route, Switch } from 'react-router-dom';\nimport NavBar from './components/nav';\nimport VideoPlayer from './components/video-player';\nimport DisplayVideo from './sections/display';\nimport UploadSection from './sections/upload';\n\nfunction App() {\n  return (\n    <>\n      <NavBar />\n      <Container fluid>\n        <Switch>\n          <Route path=\"/upload\"><UploadSection /></Route>\n          <Route path=\"/video/:name\">\n            <VideoPlayer />\n          </Route>\n          <Route path=\"/\">\n            <DisplayVideo />\n          </Route>\n        </Switch>\n      </Container>\n    </>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './scss/index.scss';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n"],"sourceRoot":""}